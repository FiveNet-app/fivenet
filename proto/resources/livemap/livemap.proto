syntax = "proto3";

package resources.livemap;
option go_package = "github.com/galexrt/arpanet/proto/resources/livemap;livemap";

import "resources/timestamp/timestamp.proto";
import "resources/users/users.proto";
import "validate/validate.proto";

message GenericMarker {
  float x = 1; // @gotags: alias:"x"
  float y = 2; // @gotags: alias:"y"
  resources.timestamp.Timestamp updated_at = 3; // @gotags: alias:"updated_at"
  int32 id = 4 [(validate.rules).int32.gt = 0];
  string name = 5;
  string icon = 6;
  string popup = 7;
  string link = 8;
}

message UserMarker {
  float x = 1; // @gotags: alias:"x"
  float y = 2; // @gotags: alias:"y"
  resources.timestamp.Timestamp updated_at = 3; // @gotags: alias:"updated_at"
  int32 id = 4 [(validate.rules).int32.gt = 0]; // @gotags: sql:"primary_key" alias:"user_id"
  string name = 5;
  string icon = 6;
  string popup = 7;
  string link = 8;

  string job = 9 [(validate.rules).string.max_len = 20]; // @gotags: alias:"job"
  string jobLabel = 10;
  resources.users.UserShort user = 11; // @gotags: sql:"primary_key" alias:"user"
}
