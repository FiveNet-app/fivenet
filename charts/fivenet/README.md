---
title: FiveNet Helm Chart
---
<!---
Document is generated by `make helm-docs`. DO NOT EDIT.
Edit the corresponding *.gotmpl.md file instead
-->

Installs [FiveNet](https://github.com/galexrt/fivenet).

## Prerequisites

* Kubernetes 1.19+
* Helm 3.x

See the [Helm support matrix](https://helm.sh/docs/topics/version_skew/) for more details.

## Installing

```console
helm repo add fivenet https://galexrt.moe/fivenet/
helm install fivenet/fivenet -f values.yaml

# Or upgrade
helm upgrade --install fivenet/fivenet -f values.yaml
```

For example settings, see the next section or [values.yaml](/charts/fivenet/values.yaml).

## Configuration

The following table lists the configurable parameters of the FiveNet chart and their default values.

| Parameter | Description | Default |
|-----------|-------------|---------|
| `affinity` |  | `{}` |
| `discord` | FiveNet Discord Bot deployment config | `{"additionalEnv":[],"enabled":true,"image":{"pullPolicy":"IfNotPresent","repository":"docker.io/galexrt/fivenet","tag":""},"livenessProbe":{"httpGet":{"path":"/readiness","port":"metrics"},"initialDelaySeconds":15,"periodSeconds":10},"readinessProbe":null,"replicaCount":1,"resources":{},"revisionHistoryLimit":1,"serviceMonitor":{"additionalLabels":{},"enabled":false,"namespaceSelector":null,"scrapeInterval":"30s"},"startupProbe":{"failureThreshold":20,"httpGet":{"path":"/readiness","port":"metrics"},"initialDelaySeconds":5,"periodSeconds":10}}` |
| `discord.serviceMonitor.additionalLabels` | Additional Labels for the ServiceMonitor object | `{}` |
| `discord.serviceMonitor.enabled` | Specifies whether a prometheus-operator ServiceMonitor should be created | `false` |
| `discord.serviceMonitor.scrapeInterval` | Interval at which metrics should be scraped | `"30s"` |
| `envoy.config` | Envoy config | `{"admin":{"access_log_path":"/tmp/admin_access.log","address":{"socket_address":{"address":"0.0.0.0","port_value":9901}}},"layered_runtime":{"layers":[{"name":"static_layer_0","static_layer":{"envoy":{"resource_limits":{"listener":{"example_listener_name":{"connection_limit":5000}}}},"overload":{"global_downstream_max_connections":25000}}}]},"static_resources":{"clusters":[{"connect_timeout":"0.5s","http2_protocol_options":{},"lb_policy":"round_robin","load_assignment":{"cluster_name":"cluster_0","endpoints":[{"lb_endpoints":[{"endpoint":{"address":{"socket_address":{"address":"{{ include \"fivenet.fullname\" . }}-server","port_value":9090}}}}]}]},"name":"fivenet_service","type":"logical_dns"}],"listeners":[{"address":{"socket_address":{"address":"0.0.0.0","port_value":8181}},"filter_chains":[{"filters":[{"name":"envoy.filters.network.http_connection_manager","typed_config":{"@type":"type.googleapis.com/envoy.extensions.filters.network.http_connection_manager.v3.HttpConnectionManager","codec_type":"auto","common_http_protocol_options":{"headers_with_underscores_action":"REJECT_REQUEST","idle_timeout":"1800s"},"http2_protocol_options":{"initial_connection_window_size":1048576,"initial_stream_window_size":65536,"max_concurrent_streams":200},"http_filters":[{"name":"envoy.filters.http.grpc_web","typed_config":{"@type":"type.googleapis.com/envoy.extensions.filters.http.grpc_web.v3.GrpcWeb"}},{"name":"envoy.filters.http.cors","typed_config":{"@type":"type.googleapis.com/envoy.extensions.filters.http.cors.v3.Cors"}},{"name":"envoy.filters.http.router","typed_config":{"@type":"type.googleapis.com/envoy.extensions.filters.http.router.v3.Router"}}],"request_timeout":"0s","route_config":{"name":"local_route","virtual_hosts":[{"cors":{"allow_headers":"keep-alive,user-agent,cache-control,content-type,content-transfer-encoding,x-accept-content-transfer-encoding,x-accept-response-streaming,x-user-agent,x-grpc-web,grpc-timeout,authorization","allow_methods":"GET, PUT, DELETE, POST, OPTIONS","allow_origin_string_match":[{"safe_regex":{"google_re2":{},"regex":"\\*"}}],"expose_headers":"grpc-status,grpc-message","max_age":"1728000"},"domains":["*"],"name":"local_service","routes":[{"match":{"prefix":"/grpc/"},"route":{"cluster":"fivenet_service","idle_timeout":"0s","max_stream_duration":{"grpc_timeout_header_max":"35s"},"prefix_rewrite":"/","timeout":"0s"}}]}]},"stat_prefix":"ingress_http","stream_idle_timeout":"0s","use_remote_address":true}}]}],"name":"listener_0"}]}}` |
| `envoy.image.pullPolicy` |  | `"IfNotPresent"` |
| `envoy.image.repository` |  | `"docker.io/envoyproxy/envoy"` |
| `envoy.image.tag` |  | `"v1.30.1"` |
| `envoy.livenessProbe.httpGet.path` |  | `"/ready"` |
| `envoy.livenessProbe.httpGet.port` |  | `"admin"` |
| `envoy.readinessProbe.httpGet.path` |  | `"/ready"` |
| `envoy.readinessProbe.httpGet.port` |  | `"admin"` |
| `envoy.replicaCount` |  | `2` |
| `envoy.resources` |  | `{}` |
| `envoy.revisionHistoryLimit` |  | `1` |
| `envoy.serviceMonitor.additionalLabels` | Additional Labels for the ServiceMonitor object | `{}` |
| `envoy.serviceMonitor.enabled` | Specifies whether a prometheus-operator ServiceMonitor should be created | `false` |
| `envoy.serviceMonitor.namespaceSelector` |  | `nil` |
| `envoy.serviceMonitor.scrapeInterval` | Interval at which metrics should be scraped | `"30s"` |
| `envoy.startupProbe` |  | `nil` |
| `extraObjects` | Extra objects to deploy (value evaluated as a template) | `[]` |
| `fivenet.config` | FiveNet config | `{"audit":{"retentionDays":90},"auth":{"superuserGroups":["projektleiter","teamleitung"],"superuserUsers":[]},"cache":{"refreshTime":"2m"},"database":{"connMaxIdleTime":"15m","connMaxLifetime":"60m","custom":{"columns":{"user":{"playtime":"playtime","visum":"visum"},"vehicle":{"model":"model"}},"conditions":{"user":{"filterEmptyName":false}}},"dsn":"DB_USER:DB_PASS@tcp(DB_HOST:DB_PORT)/DB_NAME?collation=utf8mb4_unicode_ci&parseTime=True&loc=Europe%2FBerlin","maxIdleConns":5,"maxOpenConns":32},"discord":{"commands":{"enabled":true},"enabled":true,"groupSync":{"enabled":false,"mapping":{}},"presence":{"gameStatus":"FiveNet"},"token":"your_discord_bot_token","userInfoSync":{"employeeRoleFormat":"%s Personal","enabled":false,"gradeRoleFormat":"[%grade%] %grade_label%","jobsAbsceneRoleName":"Absent","nicknameRegex":"^(?P<prefix>\\[\\S+][ ]*)?(?P<name>[^\\[]+)(?P<suffix>[ ]*\\[\\S+])?"}},"dispatchCenter":{"convertJobs":[]},"grpc":{"listen":":9090"},"http":{"adminListen":":7070","listen":":8080","publicURL":"https://fivenet.example.com","sessions":{"cookieSecret":"your_generated_cookie_secret","domain":"localhost"}},"imageProxy":{"cachePrefix":"images/","enabled":true,"options":{"allowHosts":[],"denyHosts":[]},"url":"/api/image_proxy/"},"jwt":{"secret":"your_generated_jwt_secret"},"logLevel":"INFO","mode":"release","nats":{"url":"nats://localhost:4222"},"oauth2":{"providers":[]},"storage":{"filesystem":{"path":"/data"},"s3":{"accessKeyID":"","bucketName":"","endpoint":"","prefix":"","region":"us-east-1","secretAccessKey":"","useSSL":true},"type":"filesystem"},"tracing":{"attributes":[],"enabled":false,"environment":"live","insecure":false,"ratio":0.1,"timeout":"10s","type":"stdout","url":"https://localhost:4317"}}` |
| `frontend.additionalEnv` |  | `[]` |
| `frontend.enabled` |  | `true` |
| `frontend.image.pullPolicy` |  | `"IfNotPresent"` |
| `frontend.image.repository` |  | `"docker.io/galexrt/fivenet"` |
| `frontend.image.tag` |  | `""` |
| `frontend.livenessProbe.failureThreshold` |  | `3` |
| `frontend.livenessProbe.httpGet.path` |  | `"/readiness"` |
| `frontend.livenessProbe.httpGet.port` |  | `"metrics"` |
| `frontend.livenessProbe.initialDelaySeconds` |  | `25` |
| `frontend.livenessProbe.periodSeconds` |  | `10` |
| `frontend.readinessProbe` |  | `nil` |
| `frontend.replicaCount` |  | `1` |
| `frontend.resources` |  | `{}` |
| `frontend.revisionHistoryLimit` |  | `1` |
| `frontend.serviceMonitor.additionalLabels` | Additional Labels for the ServiceMonitor object | `{}` |
| `frontend.serviceMonitor.enabled` | Specifies whether a prometheus-operator ServiceMonitor should be created | `false` |
| `frontend.serviceMonitor.namespaceSelector` |  | `nil` |
| `frontend.serviceMonitor.scrapeInterval` | Interval at which metrics should be scraped | `"30s"` |
| `frontend.startupProbe.failureThreshold` |  | `30` |
| `frontend.startupProbe.httpGet.path` |  | `"/readiness"` |
| `frontend.startupProbe.httpGet.port` |  | `"metrics"` |
| `frontend.startupProbe.initialDelaySeconds` |  | `20` |
| `frontend.startupProbe.periodSeconds` |  | `10` |
| `fullnameOverride` |  | `""` |
| `iconify.additionalEnv[0].name` |  | `"ICONIFY_SOURCE"` |
| `iconify.additionalEnv[0].value` |  | `"full"` |
| `iconify.additionalEnv[1].name` |  | `"REDIRECT_INDEX"` |
| `iconify.additionalEnv[1].value` |  | `"/about"` |
| `iconify.additionalEnv[2].name` |  | `"ALLOW_UPDATE"` |
| `iconify.additionalEnv[2].value` |  | `"false"` |
| `iconify.additionalEnv[3].name` |  | `"ENABLE_ICON_LISTS"` |
| `iconify.additionalEnv[3].value` |  | `"false"` |
| `iconify.additionalEnv[4].name` |  | `"ENABLE_SEARCH_ENGINE"` |
| `iconify.additionalEnv[4].value` |  | `"false"` |
| `iconify.enabled` |  | `true` |
| `iconify.image.pullPolicy` |  | `"IfNotPresent"` |
| `iconify.image.repository` |  | `"docker.io/iconify/api"` |
| `iconify.image.tag` |  | `"latest"` |
| `iconify.ingress.annotations."nginx.ingress.kubernetes.io/rewrite-target"` |  | `"/$2"` |
| `iconify.ingress.className` |  | `"nginx"` |
| `iconify.ingress.enabled` |  | `true` |
| `iconify.ingress.hosts[0].host` |  | `"chart-example.local"` |
| `iconify.ingress.hosts[0].paths[0].path` |  | `"/api/icons(/|$)(.*)"` |
| `iconify.ingress.hosts[0].paths[0].pathType` |  | `"Prefix"` |
| `iconify.ingress.tls` |  | `[]` |
| `iconify.livenessProbe` |  | `nil` |
| `iconify.readinessProbe` |  | `nil` |
| `iconify.replicaCount` |  | `1` |
| `iconify.resources` |  | `{}` |
| `iconify.revisionHistoryLimit` |  | `1` |
| `iconify.startupProbe` |  | `nil` |
| `imagePullSecrets` |  | `[]` |
| `ingress.annotations` |  | `{}` |
| `ingress.className` |  | `"nginx"` |
| `ingress.enabled` |  | `true` |
| `ingress.hosts[0].host` |  | `"chart-example.local"` |
| `ingress.hosts[0].paths[0].path` |  | `"/api"` |
| `ingress.hosts[0].paths[0].pathType` |  | `"Prefix"` |
| `ingress.hosts[0].paths[0].service` |  | `"server"` |
| `ingress.hosts[0].paths[0].servicePort` |  | `"http"` |
| `ingress.hosts[0].paths[1].path` |  | `"/grpc"` |
| `ingress.hosts[0].paths[1].pathType` |  | `"Prefix"` |
| `ingress.hosts[0].paths[1].service` |  | `"envoy"` |
| `ingress.hosts[0].paths[1].servicePort` |  | `"grpc"` |
| `ingress.hosts[0].paths[2].path` |  | `"/"` |
| `ingress.hosts[0].paths[2].pathType` |  | `"Prefix"` |
| `ingress.tls` |  | `[]` |
| `nameOverride` |  | `""` |
| `nats` | NATS server/cluster config values: https://artifacthub.io/packages/helm/nats/nats#values | `{"config":{"cluster":{"enabled":true,"replicas":3},"jetstream":{"enabled":true,"fileStore":{"enabled":true,"pvc":{"enabled":true,"size":"5Gi"}},"memoryStore":{"enabled":true,"maxSize":"64Mi"}},"merge":{"accounts":{"fivenet":{"jetstream":"enabled","users":[{"password":"fivenet","user":"fivenet"}]}},"max_payload":3145728}},"enabled":true,"promExporter":{"enabled":true,"image":{"repository":"docker.io/natsio/prometheus-nats-exporter","tag":"0.15.0"},"patch":[{"op":"replace","path":"/args","value":["-port=7777","-channelz","-connz","-routez","-subz","-varz","-prefix=nats","-serverz","-use_internal_server_id","-jsz=streams","-ri=15","http://localhost:8222/"]}],"podMonitor":{"enabled":false,"patch":[{"op":"add","path":"/spec/podMetricsEndpoints/0/interval","value":"30s"}]}}}` |
| `nodeSelector` |  | `{}` |
| `podAnnotations` |  | `{}` |
| `podSecurityContext` |  | `{}` |
| `securityContext` |  | `{}` |
| `server.additionalEnv` |  | `[]` |
| `server.enabled` |  | `true` |
| `server.image.pullPolicy` |  | `"IfNotPresent"` |
| `server.image.repository` |  | `"docker.io/galexrt/fivenet"` |
| `server.image.tag` |  | `""` |
| `server.livenessProbe.failureThreshold` |  | `3` |
| `server.livenessProbe.httpGet.path` |  | `"/readiness"` |
| `server.livenessProbe.httpGet.port` |  | `"metrics"` |
| `server.livenessProbe.initialDelaySeconds` |  | `25` |
| `server.livenessProbe.periodSeconds` |  | `10` |
| `server.readinessProbe` |  | `nil` |
| `server.replicaCount` |  | `1` |
| `server.resources` |  | `{}` |
| `server.revisionHistoryLimit` |  | `1` |
| `server.serveFrontend` |  | `false` |
| `server.serviceMonitor.additionalLabels` | Additional Labels for the ServiceMonitor object | `{}` |
| `server.serviceMonitor.enabled` | Specifies whether a prometheus-operator ServiceMonitor should be created | `false` |
| `server.serviceMonitor.namespaceSelector` |  | `nil` |
| `server.serviceMonitor.scrapeInterval` | Interval at which metrics should be scraped | `"30s"` |
| `server.startupProbe.failureThreshold` |  | `30` |
| `server.startupProbe.httpGet.path` |  | `"/readiness"` |
| `server.startupProbe.httpGet.port` |  | `"metrics"` |
| `server.startupProbe.initialDelaySeconds` |  | `20` |
| `server.startupProbe.periodSeconds` |  | `10` |
| `service.type` |  | `"ClusterIP"` |
| `serviceAccount.annotations` |  | `{}` |
| `serviceAccount.create` |  | `true` |
| `serviceAccount.name` |  | `""` |
| `tolerations` |  | `[]` |
| `worker` | FiveNet Worker deployment config | `{"additionalEnv":[],"enabled":true,"image":{"pullPolicy":"IfNotPresent","repository":"docker.io/galexrt/fivenet","tag":""},"livenessProbe":{"httpGet":{"path":"/readiness","port":"metrics"},"initialDelaySeconds":15,"periodSeconds":10},"readinessProbe":null,"replicaCount":1,"resources":{},"revisionHistoryLimit":1,"serviceMonitor":{"additionalLabels":{},"enabled":false,"namespaceSelector":null,"scrapeInterval":"30s"},"startupProbe":{"failureThreshold":20,"httpGet":{"path":"/readiness","port":"metrics"},"initialDelaySeconds":5,"periodSeconds":10}}` |
| `worker.serviceMonitor.additionalLabels` | Additional Labels for the ServiceMonitor object | `{}` |
| `worker.serviceMonitor.enabled` | Specifies whether a prometheus-operator ServiceMonitor should be created | `false` |
| `worker.serviceMonitor.scrapeInterval` | Interval at which metrics should be scraped | `"30s"` |

## Uninstalling the Chart

To see the currently installed Rook chart:

```console
helm ls
```

To uninstall/delete the `fivenet` deployment:

```console
helm delete fivenet
```

The command removes all the Kubernetes components associated with the chart and deletes the release.

## License

Apache 2.0 License, see [LICENSE](/LICENSE).
